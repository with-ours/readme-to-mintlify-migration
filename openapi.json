{"info":{"title":"Ours","version":"1.0.0","description":"The Ours Server-Side REST API"},"openapi":"3.0.0","servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"components":{"schemas":{},"parameters":{}},"paths":{"/track":{"post":{"description":"Track events from your server. Please include at least one of: userId, externalId, or email. These properties help us associate events with existing users. For all fields, null values unset the property and undefined values do not unset existing properties.","operationId":"track","tags":["OursPrivacy"],"servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"summary":"Track Events","requestBody":{"description":"The payload to track an event","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","minLength":1,"maxLength":1000,"description":"The name of the event you're tracking. This must be whitelisted in the Ours dashboard."},"token":{"type":"string","minLength":1,"maxLength":250,"description":"The token for your Ours Privacy Source. You can find this in the Ours dashboard."},"userId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The Ours user id stored in local storage and cookies on your web properties. If userId is included in the request, we do not lookup the user by email or externalId."},"externalId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The externalId (the ID in your system) of a user. We will associate this event with the user or create a user. If included in the request, email lookup is ignored."},"email":{"type":"string","nullable":true,"minLength":1,"maxLength":1000,"description":"The email address of a user. We will associate this event with the user or create a user. Used for lookup if externalId and userId are not included in the request."},"time":{"type":"number","nullable":true,"description":"The time at which the event occurred in milliseconds since UTC epoch. The time must be in the past and within the last 7 days."},"distinctId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"A unique identifier for the event. This helps prevent duplicate events."},"eventProperties":{"type":"object","nullable":true,"additionalProperties":{"nullable":true},"description":"Any additional event properties you want to pass along."},"userProperties":{"type":"object","nullable":true,"properties":{"email":{"type":"string","nullable":true,"maxLength":2000},"first_name":{"type":"string","nullable":true,"maxLength":2000},"last_name":{"type":"string","nullable":true,"maxLength":2000},"gender":{"type":"string","nullable":true,"maxLength":2000},"date_of_birth":{"type":"string","nullable":true,"maxLength":2000},"phone_number":{"nullable":true},"city":{"type":"string","nullable":true,"maxLength":2000},"state":{"type":"string","nullable":true,"maxLength":2000},"zip":{"nullable":true},"country":{"type":"string","nullable":true,"maxLength":2000},"external_id":{"type":"string","nullable":true,"maxLength":2000},"company_name":{"type":"string","nullable":true,"maxLength":2000},"job_title":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user"},"custom_properties":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"consent":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}}},"description":"Additional user properties you want to pass along to the destinations. (optional) You can also update these properties via the identify endpoint."},"defaultProperties":{"type":"object","nullable":true,"properties":{"is_bot":{"type":"boolean","nullable":true,"description":"Whether we have detected that the user is a bot. This is set automatically by the Ours server primarily for events tracked through the web SDK."},"ad_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The ad id for detected in the session. This is set by the web sdk automatically."},"adset_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The adset id for detected in the session. This is set by the web sdk automatically."},"campaign_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The campaign id for detected in the session. This is set by the web sdk automatically."},"encoding":{"type":"string","nullable":true,"maxLength":2000,"description":"The browsers encoding. Ex: UTF-8"},"browser_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the browser. Ex: Chrome"},"browser_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the browser. Ex: 114.0"},"cpu_architecture":{"type":"string","nullable":true,"maxLength":2000,"description":"The architecture of the CPU. Ex: x64"},"device_type":{"type":"string","nullable":true,"maxLength":2000,"description":"The type of device the user is using. Ex: mobile"},"device_model":{"type":"string","nullable":true,"maxLength":2000,"description":"The model of the device. Ex: iPhone 13"},"device_vendor":{"type":"string","nullable":true,"maxLength":2000,"description":"The vendor of the device. Ex: Apple"},"engine_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the browser engine. Ex: Blink"},"engine_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the browser engine. Ex: 114.0"},"os_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the operating system. Ex: Windows"},"os_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the operating system. Ex: 10.0"},"browser_language":{"type":"string","nullable":true,"maxLength":2000,"description":"The language of the browser. Ex: en-US"},"current_url":{"type":"string","nullable":true,"description":"The full url (including query params) of the current page"},"webview":{"type":"boolean","nullable":true,"description":"Whether the user is in a webview. Ex: true"},"iframe":{"type":"boolean","nullable":true,"description":"Whether the user is in an iframe. Ex: true"},"sessionCount":{"type":"number","nullable":true,"description":"The number of sessions the user has had. Ex: 3"},"activeDuration":{"type":"number","nullable":true,"description":"The active time in milliseconds that the user had this tab active"},"duration":{"type":"number","nullable":true,"description":"The time in milliseconds since the page was loaded // script was loaded"},"epik":{"type":"string","nullable":true,"maxLength":2000,"description":"The Pinterest Click ID. Ex: epik456"},"sacid":{"type":"string","nullable":true,"maxLength":2000,"description":"The StackAdapt Tracking ID. Ex: sacid123"},"fbc":{"type":"string","nullable":true,"maxLength":2000,"description":"Facebook Click ID with prefix format for Conversions API tracking. Ex: fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890"},"fbclid":{"type":"string","nullable":true,"maxLength":2000,"description":"Raw Facebook Click ID query parameter without prefix from ad clicks. Ex: AbCdEfGhIjKlMnOpQrStUvWxYz1234567890"},"fbp":{"type":"string","nullable":true,"maxLength":2000,"description":"Facebook Browser ID parameter for identifying browsers and attributing events. Ex: fb.1.1554763741205.1098115397"},"gad_source":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Ad Source. Ex: google"},"gbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Braid ID. Ex: gbraid123"},"gclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Click ID. Ex: gclid123"},"ndclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The NextDoor Click ID. Ex: ndclid123"},"dclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The DoubleClick Click ID. Ex: dclid123"},"qclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Quora Click ID. Ex: qclid123"},"rdt_cid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Reddit Click ID. Ex: rdt_cid123"},"host":{"type":"string","nullable":true,"maxLength":2000,"description":"The host of the current page. Ex: example.com"},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user. Ex: 127.0.0.1"},"msclkid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Microsoft Click ID. Ex: msclkid123"},"li_fat_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The LinkedIn Click ID. Ex: li_fat_id123"},"pathname":{"type":"string","nullable":true,"maxLength":2000,"description":"The pathname of the current page. Ex: /home"},"referrer":{"type":"string","nullable":true,"maxLength":5000,"description":"The referrer URL of the current page"},"screen_height":{"type":"number","nullable":true,"description":"The height of the screen. Ex: 1080"},"screen_width":{"type":"number","nullable":true,"description":"The width of the screen. Ex: 1920"},"title":{"type":"string","nullable":true,"maxLength":2000,"description":"The title of the current page"},"user_agent":{"type":"string","nullable":true,"description":"The user agent of the browser"},"utm_campaign":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Campaign. The web SDK automatically captures this from the query params."},"utm_content":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Content. The web SDK automatically captures this from the query params."},"utm_medium":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Medium. The web SDK automatically captures this from the query params."},"utm_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Name. The web SDK automatically captures this from the query params."},"ttclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The TikTok Click ID. Ex: ttclid123"},"twclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Twitter Click ID. Ex: twclid123"},"clickid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Click ID. Ex: clickid123"},"clid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Generic Click ID. Ex: clid123"},"sccid":{"type":"string","nullable":true,"maxLength":2000,"description":"The SnapChat Click ID. Ex: sccid123"},"utm_source":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Source. The web SDK automatically captures this from the query params."},"utm_term":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Term. The web SDK automatically captures this from the query params."},"version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the web SDK"},"wbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"The WBRAID Identifier. The web SDK automatically captures this from the query params."},"uafvl":{"type":"string","nullable":true,"maxLength":2000,"description":"User agent as a full list of strings."},"page_hash":{"type":"number","nullable":true,"description":"A random set of numbers for the page load"},"sid":{"type":"string","nullable":true,"maxLength":2000,"description":"The session ID as assigned automatically by the web SDK. This is required for session replay"},"new_s":{"type":"boolean","nullable":true,"description":"Deprecated"},"fv":{"type":"boolean","nullable":true,"description":"Deprecated"},"sr":{"type":"string","nullable":true,"maxLength":2000},"received_at":{"type":"string","nullable":true,"description":"The time the event was received by an Ours server in ISO format"}},"description":"These properties are used throughout the Ours app to pass known values onto destinations"}},"required":["event","token"]}}}},"responses":{"200":{"description":"Success - your event was sent to our servers","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[true]}},"required":["success"]}}}},"400":{"description":"Bad Request - Something about the body of your request is invalid. Please update your payload and try again.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"401":{"description":"Unauthorized - you are not authorized to send events to Ours. Please contact support.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"429":{"description":"Too Many Requests - We recommend starting with a backoff of 2s and doubling backoff until 60s, with 1-5s of jitter.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"500":{"description":"Internal Server Error - in the unlikely event that you see this error, please backoff as described for a 429 response.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}}}}},"/identify":{"post":{"description":"Define visitor properties on an existing visitor or create a new visitor. Note: This does not fire an event. If you want to fire an event, use the track method and include properties for the visitor.","operationId":"identify","tags":["OursPrivacy"],"servers":[{"url":"https://api.oursprivacy.com/api/v1"}],"summary":"Identify Visitors","requestBody":{"description":"The payload to identify a visitor","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","minLength":1,"maxLength":250,"description":"The token for your Ours Privacy Source. You can find this in the Ours dashboard."},"userId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The Ours user id stored in local storage and cookies on your web properties. If userId is included in the request, we do not lookup the user by email or externalId."},"externalId":{"type":"string","nullable":true,"minLength":1,"maxLength":400,"description":"The externalId (the ID in your system) of a user. We will associate this event with the user or create a user. If included in the request, email lookup is ignored."},"email":{"type":"string","nullable":true,"minLength":1,"maxLength":1000,"description":"The email address of a user. We will associate this event with the user or create a user. Used for lookup if externalId and userId are not included in the request."},"userProperties":{"type":"object","properties":{"email":{"type":"string","nullable":true,"maxLength":2000},"first_name":{"type":"string","nullable":true,"maxLength":2000},"last_name":{"type":"string","nullable":true,"maxLength":2000},"gender":{"type":"string","nullable":true,"maxLength":2000},"date_of_birth":{"type":"string","nullable":true,"maxLength":2000},"phone_number":{"nullable":true},"city":{"type":"string","nullable":true,"maxLength":2000},"state":{"type":"string","nullable":true,"maxLength":2000},"zip":{"nullable":true},"country":{"type":"string","nullable":true,"maxLength":2000},"external_id":{"type":"string","nullable":true,"maxLength":2000},"company_name":{"type":"string","nullable":true,"maxLength":2000},"job_title":{"type":"string","nullable":true,"maxLength":2000},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user"},"custom_properties":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"consent":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}}},"description":"User properties to associate with this user. The existing user properties will be updated. And all future events will have these properties associated with them."},"defaultProperties":{"type":"object","nullable":true,"properties":{"is_bot":{"type":"boolean","nullable":true,"description":"Whether we have detected that the user is a bot. This is set automatically by the Ours server primarily for events tracked through the web SDK."},"ad_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The ad id for detected in the session. This is set by the web sdk automatically."},"adset_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The adset id for detected in the session. This is set by the web sdk automatically."},"campaign_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The campaign id for detected in the session. This is set by the web sdk automatically."},"encoding":{"type":"string","nullable":true,"maxLength":2000,"description":"The browsers encoding. Ex: UTF-8"},"browser_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the browser. Ex: Chrome"},"browser_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the browser. Ex: 114.0"},"cpu_architecture":{"type":"string","nullable":true,"maxLength":2000,"description":"The architecture of the CPU. Ex: x64"},"device_type":{"type":"string","nullable":true,"maxLength":2000,"description":"The type of device the user is using. Ex: mobile"},"device_model":{"type":"string","nullable":true,"maxLength":2000,"description":"The model of the device. Ex: iPhone 13"},"device_vendor":{"type":"string","nullable":true,"maxLength":2000,"description":"The vendor of the device. Ex: Apple"},"engine_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the browser engine. Ex: Blink"},"engine_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the browser engine. Ex: 114.0"},"os_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The name of the operating system. Ex: Windows"},"os_version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the operating system. Ex: 10.0"},"browser_language":{"type":"string","nullable":true,"maxLength":2000,"description":"The language of the browser. Ex: en-US"},"current_url":{"type":"string","nullable":true,"description":"The full url (including query params) of the current page"},"webview":{"type":"boolean","nullable":true,"description":"Whether the user is in a webview. Ex: true"},"iframe":{"type":"boolean","nullable":true,"description":"Whether the user is in an iframe. Ex: true"},"sessionCount":{"type":"number","nullable":true,"description":"The number of sessions the user has had. Ex: 3"},"activeDuration":{"type":"number","nullable":true,"description":"The active time in milliseconds that the user had this tab active"},"duration":{"type":"number","nullable":true,"description":"The time in milliseconds since the page was loaded // script was loaded"},"epik":{"type":"string","nullable":true,"maxLength":2000,"description":"The Pinterest Click ID. Ex: epik456"},"sacid":{"type":"string","nullable":true,"maxLength":2000,"description":"The StackAdapt Tracking ID. Ex: sacid123"},"fbc":{"type":"string","nullable":true,"maxLength":2000,"description":"Facebook Click ID with prefix format for Conversions API tracking. Ex: fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890"},"fbclid":{"type":"string","nullable":true,"maxLength":2000,"description":"Raw Facebook Click ID query parameter without prefix from ad clicks. Ex: AbCdEfGhIjKlMnOpQrStUvWxYz1234567890"},"fbp":{"type":"string","nullable":true,"maxLength":2000,"description":"Facebook Browser ID parameter for identifying browsers and attributing events. Ex: fb.1.1554763741205.1098115397"},"gad_source":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Ad Source. Ex: google"},"gbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Braid ID. Ex: gbraid123"},"gclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Google Click ID. Ex: gclid123"},"ndclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The NextDoor Click ID. Ex: ndclid123"},"dclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The DoubleClick Click ID. Ex: dclid123"},"qclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Quora Click ID. Ex: qclid123"},"rdt_cid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Reddit Click ID. Ex: rdt_cid123"},"host":{"type":"string","nullable":true,"maxLength":2000,"description":"The host of the current page. Ex: example.com"},"ip":{"type":"string","nullable":true,"maxLength":2000,"description":"The IP address of the user. Ex: 127.0.0.1"},"msclkid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Microsoft Click ID. Ex: msclkid123"},"li_fat_id":{"type":"string","nullable":true,"maxLength":2000,"description":"The LinkedIn Click ID. Ex: li_fat_id123"},"pathname":{"type":"string","nullable":true,"maxLength":2000,"description":"The pathname of the current page. Ex: /home"},"referrer":{"type":"string","nullable":true,"maxLength":5000,"description":"The referrer URL of the current page"},"screen_height":{"type":"number","nullable":true,"description":"The height of the screen. Ex: 1080"},"screen_width":{"type":"number","nullable":true,"description":"The width of the screen. Ex: 1920"},"title":{"type":"string","nullable":true,"maxLength":2000,"description":"The title of the current page"},"user_agent":{"type":"string","nullable":true,"description":"The user agent of the browser"},"utm_campaign":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Campaign. The web SDK automatically captures this from the query params."},"utm_content":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Content. The web SDK automatically captures this from the query params."},"utm_medium":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Medium. The web SDK automatically captures this from the query params."},"utm_name":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Name. The web SDK automatically captures this from the query params."},"ttclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The TikTok Click ID. Ex: ttclid123"},"twclid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Twitter Click ID. Ex: twclid123"},"clickid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Click ID. Ex: clickid123"},"clid":{"type":"string","nullable":true,"maxLength":2000,"description":"The Generic Click ID. Ex: clid123"},"sccid":{"type":"string","nullable":true,"maxLength":2000,"description":"The SnapChat Click ID. Ex: sccid123"},"utm_source":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Source. The web SDK automatically captures this from the query params."},"utm_term":{"type":"string","nullable":true,"maxLength":2000,"description":"The UTM Term. The web SDK automatically captures this from the query params."},"version":{"type":"string","nullable":true,"maxLength":2000,"description":"The version of the web SDK"},"wbraid":{"type":"string","nullable":true,"maxLength":2000,"description":"The WBRAID Identifier. The web SDK automatically captures this from the query params."},"uafvl":{"type":"string","nullable":true,"maxLength":2000,"description":"User agent as a full list of strings."},"page_hash":{"type":"number","nullable":true,"description":"A random set of numbers for the page load"},"sid":{"type":"string","nullable":true,"maxLength":2000,"description":"The session ID as assigned automatically by the web SDK. This is required for session replay"},"new_s":{"type":"boolean","nullable":true,"description":"Deprecated"},"fv":{"type":"boolean","nullable":true,"description":"Deprecated"},"sr":{"type":"string","nullable":true,"maxLength":2000},"received_at":{"type":"string","nullable":true,"description":"The time the event was received by an Ours server in ISO format"}},"description":"These properties are used throughout the Ours app to pass known values onto destinations"}},"required":["token","userProperties"]}}}},"responses":{"200":{"description":"Success - your event was sent to our servers","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[true]}},"required":["success"]}}}},"400":{"description":"Bad Request - Something about the body of your request is invalid. Please update your payload and try again.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"401":{"description":"Unauthorized - you are not authorized to send events to Ours. Please contact support.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"429":{"description":"Too Many Requests - We recommend starting with a backoff of 2s and doubling backoff until 60s, with 1-5s of jitter.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}},"500":{"description":"Internal Server Error - in the unlikely event that you see this error, please backoff as described for a 429 response.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[false]}},"required":["success"]}}}}}}}}}